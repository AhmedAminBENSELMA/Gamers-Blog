{% extends 'base.html.twig' %}
{%  import 'Macros/comment.twig' as comment %}
{% block title %}
    {{ parent() }}  - POST
{% endblock %}


{% block body %}
    <body class="hold-transition dark-mode sidebar-mini">
    <div class="wrapper">
        {% include 'navbar.html.twig' %}
        {% include 'sideMenu.html.twig' %}
        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <section class="content-header">
                <div class="container-fluid">
                    <div class="row mb-2">
                        <div class="col-sm-6">
                            <h1>Contacts</h1>
                        </div>
                        <div class="col-sm-6">
                            <ol class="breadcrumb float-sm-right">
                                <li class="breadcrumb-item"><a href="#">Home</a></li>
                                <li class="breadcrumb-item active">Contacts</li>
                            </ol>
                        </div>
                    </div>
                </div><!-- /.container-fluid -->
            </section>

            <!-- Main content -->
            <section class="content">

                <!-- Default box -->
                <div class="card card-solid">
                    <div class="card-body pb-0">














                        <div class="post" style="width: 100%">
                            <div class="row">
                                <div class="col-md-12">
                                    <!-- Box Comment -->
                                    <div class="card card-widget">
                                        <div class="card-header">
                                            <div class=" col-md-11 user-block">
                                                <img alt="User Image" class="img-circle" src="{{ asset(post.gamer.getImagePath()) }}">
                                                <span class="username"><a href="#">{{ post.Gamer.FullName|capitalize }}</a></span>
                                                <span class="description">######</span>
                                            </div>
                                            <div class=" col-md-1 card-tools d-flex justify-content-end">
                                                <button class="btn btn-tool" data-card-widget="remove" type="button">
                                                    <i class="fas fa-times"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <!-- /.card-header -->
                                        <div class="card-body">
                                            <div class="col-12">
                                                <p>{{ post.context }}</p>
                                                <div class="embed-responsive embed-responsive-16by9">
                                                <iframe class="embed-responsive-item" src="{{ asset(post.getVideoPath()) }}" allowfullscreen ></iframe>
                                                    </div>

                                            </div>
                                            <div class="col-12">
                                                <button class="btn btn-default btn-sm" type="button"><i class="far fa-thumbs-up"></i> Like
                                                </button>
                                                {% if account.adminRole is defined %}
                                                    <button class="btn btn-danger btn-sm" type="button"><i class="far fa-trash-alt"></i> Remove
                                                    </button>
                                                {% endif %}
                                                <span class="float-right text-muted px-2"  id = "comments-count_{{ post.id }}" > {{ post.comments| length}}  comments</span>
                                                <span class="float-right text-muted px-2 ">{{ post.likes}} likes </span>

                                            </div>
                                        </div>
                                        <!-- /.card-body -->
                                        <div class="card-footer card-comments comments_{{ post.id }}">
                                            {% for comment in post.comments %}
                                                {{ comment.comment(comment) }}
                                            {% endfor %}
                                        </div>
                                        <!-- /.card-footer -->
                                        <div class="card-footer">
                                            <form action="#" method="post" class="comment-form"  data-post-id = "{{ post.id }}">
                                                <img alt="Alt Text" class="img-fluid img-circle img-sm" src="{{ asset(app.user.getImagePath()) }}">
                                                <!-- .img-push is used to add margin to elements next to floating images -->
                                                <div class="img-push">
                                                    <input class="form-control form-control-sm" placeholder="Press enter to post comment"  type="text" name="commentText">
                                                </div>
                                            </form>
                                        </div>
                                        <!-- /.card-footer -->
                                    </div>
                                    <!-- /.card -->
                                </div>
                            </div>

                        </div>
















                    </div>
                </div>
                <!-- /.card-body -->

            </section>
            <!-- /.card-footer -->
        </div>
        <!-- /.card -->


        <!-- /.content -->
    </div>
    </body>
{% endblock %}

